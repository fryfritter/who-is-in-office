(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,a){},32:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),s=a(19),r=a.n(s),o=(a(31),a(32),a(33),a(5)),l=a.n(o),i=a(7),d=a(20),u=a(21),f=a(26),h=a(25),j=a(22),p=a(57),O=a(23),b=a(58),v=a(61),S=a(24),k=a(59),m=a(60),x=a(3),y=a(36),g=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={currentMonth:new Date,currentWeek:new Date,selectedDate:new Date,isLoading:!0,allStaff:[],staffSchedule:[],isScheduleLoading:!0},e.daysOfWeek=[],e.addSchedule=function(){var t=Object(i.a)(l.a.mark((function t(a,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("add now",a,n),"http://localhost:4000/api/staff/addSchedule",t.next=4,y.post("http://localhost:4000/api/staff/addSchedule",{staffId:a,officeOn:n});case 4:c=t.sent,console.log("response ",c.data),e.loadStaffSchedule();case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.deleteSchedule=function(){var t=Object(i.a)(l.a.mark((function t(a,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("remove now",a,n),"http://localhost:4000/api/staff/deleteSchedule",t.next=4,y.post("http://localhost:4000/api/staff/deleteSchedule",{staffId:a,officeOn:n});case 4:c=t.sent,console.log("response ",c.data),e.loadStaffSchedule();case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.nextMonth=function(){e.setState({currentMonth:Object(j.a)(e.state.currentMonth,1)})},e.prevMonth=function(){e.setState({currentMonth:Object(p.a)(e.state.currentMonth,1)})},e.nextWeek=function(){e.setState({currentWeek:Object(O.a)(e.state.currentWeek,1)})},e.prevWeek=function(){e.setState({currentWeek:Object(b.a)(e.state.currentWeek,1)})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadStaff(),this.loadStaffSchedule()}},{key:"loadStaff",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:4000/api/staff/staffList",e.next=3,y.get("http://localhost:4000/api/staff/staffList",{});case 3:t=e.sent,console.log(t.data),this.setState({allStaff:t.data,isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStaffSchedule",value:function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:4000/api/staff/staffSchedule",e.next=3,y.get("http://localhost:4000/api/staff/staffSchedule",{dateFrom:t,dateTo:a});case 3:n=e.sent,this.setState({staffSchedule:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"renderHeader",value:function(){var e="dd MMMM";return Object(x.jsxs)("div",{className:"header row flex-middle",children:[Object(x.jsx)("div",{className:"col col-start",children:Object(x.jsx)("div",{className:"icon",onClick:this.prevWeek,children:"chevron_left"})}),Object(x.jsxs)("div",{className:"col col-center",children:[Object(x.jsx)("span",{children:Object(v.a)(this.state.currentMonth,"yyyy")}),Object(x.jsxs)("div",{children:[Object(v.a)(Object(S.a)(Object(k.a)(this.state.currentWeek),1),e),"- ",Object(v.a)(Object(m.a)(this.state.currentWeek),e)]})]}),Object(x.jsx)("div",{className:"col col-end",onClick:this.nextWeek,children:Object(x.jsx)("div",{className:"icon",children:"chevron_right"})})]})}},{key:"renderDays",value:function(){this.daysOfWeek=[];var e=[],t=Object(k.a)(this.state.currentWeek);e.push(Object(x.jsx)("div",{className:"col col-center",children:"Staff Name"}));for(var a=1;a<8;a++)this.daysOfWeek.push(Object(v.a)(Object(S.a)(t,a),"dd MMM yyyy")),e.push(Object(x.jsxs)("div",{className:"col col-center",children:[Object(v.a)(Object(S.a)(t,a),"EEEE")," ",Object(x.jsx)("br",{}),Object(v.a)(Object(S.a)(t,a),"dd MMM")]},a));return Object(x.jsx)("div",{className:"row blue",children:e})}},{key:"renderSchedules",value:function(){var e=this;console.log("Before calling load staff in schedule");var t=[];return console.log("is the stage loading?",this.state.isLoading),this.state.isLoading||(t=this.state.allStaff.map((function(t){var a=[];return console.log("calling me -",t),a.push(Object(x.jsx)("div",{className:"col cell",children:t.name})),console.log("now in days of week",e.state.staffSchedule),e.daysOfWeek.map((function(n){return e.state.staffSchedule.filter((function(e){return e.staffId===t.id&&Object(v.a)(new Date(e.officeOn),"dd MMM yyyy")===n})).length>0?a.push(Object(x.jsxs)("div",{className:"col cell selected",onClick:function(){return e.deleteSchedule(t.id,n)},children:[" ","Office"," "]})):a.push(Object(x.jsxs)("div",{className:"col cell",onClick:function(){return e.addSchedule(t.id,n)},children:[" ","Home"," "]})),n})),Object(x.jsx)("div",{className:"row",children:a},t.id)}))),console.log("calling me -",t),Object(x.jsx)("div",{className:"body",children:t})}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"calendar",children:[this.renderHeader(),this.renderDays(),this.renderSchedules()]})}}]),a}(c.a.Component);var M=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(g,{})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,62)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root")),w()}},[[55,1,2]]]);
//# sourceMappingURL=main.9a732afb.chunk.js.map